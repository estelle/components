<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8" />
<title>Talk:  Web Components</title>
<!--
Made by: Estelle Weyl
Copyright:  CC-SA-NC-BY - Creative Commons Attribution-NonCommercial-ShareAlike
-->
<link rel="stylesheet" href="css/index.css"/>
</head>

<body>
  <div id="presentation">
   <div id="slides">
<!-- SLIDES -->


<div class="slide intro">
  <header>
    <h1 style="font-size: 4rem;"><strong>Web Components</strong></h1>
  </header>
  <h1>Estelle Weyl</h1>
  <h4>@estellevw</h3>
  <h4>estelle.github.io/components</h4>
</div>

<div class="slide">
    <section class="content">
<h1 class="textmask">Estelle Weyl</h1>
<h2><a href="http://www.standardista.com">www.standardista.com</a></h2>
<h2><a href="http://www.twitter.com/estellevw">@estellevw</a></h2>
<h2><a href="http://www.twitter.com/standardista">@standardista</a></h2>
<div class="floatright">
  <img src="http://akamaicovers.oreilly.com/images/9780980846904/cat.gif" alt="HTML5 and CSS3 for the Real World">
  <img src="http://akamaicovers.oreilly.com/images/0636920018063/cat.gif" alt="HTML5: The Definitive Guide"/>
  <img src="http://akamaicovers.oreilly.com/images/0636920021711/cat.gif" alt="MObile HTML5" />
  <img src="http://akamaicovers.oreilly.com/images/0636920025955/cat.gif" alt="Web Performance Daybook"/></div>
    </section>
</div>



<div class="slide title">
<h1>Web Components</h1>
</div>



<div class="slide">
  <header><h1> </h1></header>
    <section class="content"><strong>Web Components:</strong> Encapsulated and reusable components for the web.
    </section>
</div>


<div class="slide">
  <header><h1>Components of Web Components</h1></header>
    <section class="content">
      <h2></h2>
      <h3>a.k.a. Table of Contents </h3>
      <ul>
        <li>&lt;template&gt; <em>(and &lt;content&gt;)</em></li>
        <li>Shadow DOM</li>
        <li>HTML imports</li>
        <li>Custom Elements</li>
    </section>
</div>

<div class="slide">
  <header><h1>Browser Support</h1></header>
    <figure><object data="http://caniuse.com/#search=components"></object></figure>
  <a href="http://caniuse.com/#search=components" target="play" title="open resource in new window">↪</a>
</div>

<div class="slide">
  <header><h1>Libraries &amp; Polyfills</h1></header>
    <section class="content icon-images">
      <ul>
        <li><img src="assets/icons/icon-polymer.png" alt=""/> Polymer</li>
        <li><img src="assets/icons/icon-xtags.png" alt=""/>x-tag</li>
        <li><img src="assets/icons/icon-bosonic.png" alt=""/>Bosonic</li>
      </ul>
    </section>
</div>





<div class="slide opposite" style="background: url(assets/images/divitis.gif) center no-repeat;">
  <header><h1>The problem</h1></header>
    <section class="content">

    </section>
</div>


<div class="slide">
  <header><h1>Static Code</h1></header>
    <section class="content">
      <pre contenteditable>&lt;div class=&quot;name-tag&quot;&gt;
  &lt;div class=&quot;outer&quot;&gt;
    &lt;div class=&quot;boilerplate&quot;&gt;
      Hi! My name is
    &lt;/div&gt;
    &lt;div class=&quot;name&quot;&gt;
      Estelle
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>
    </section>
</div>



<div class="slide">
  <header><h1><!--Backend Frameworks--></h1></header>
    <section class="content">
      <pre contenteditable>&lt;div class=&quot;name-tag&quot;&gt;
  &lt;div class=&quot;outer&quot;&gt;
    &lt;div class=&quot;boilerplate&quot;&gt;
      Hi! My name is
    &lt;/div&gt;
    &lt;div class=&quot;name&quot;&gt;
      Jean Phillippe
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;name-tag&quot;&gt;
  &lt;div class=&quot;outer&quot;&gt;
    &lt;div class=&quot;boilerplate&quot;&gt;
      Hi! My name is
    &lt;/div&gt;
    &lt;div class=&quot;name&quot;&gt;
      Estelle
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;name-tag&quot;&gt;
  &lt;div class=&quot;outer&quot;&gt;
    &lt;div class=&quot;boilerplate&quot;&gt;
      Hi! My name is
    &lt;/div&gt;
    &lt;div class=&quot;name&quot;&gt;
      Miriam
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>
    </section>
</div>




<div class="slide">
  <header><h1>DOM Manipulation (<a href="files/oldstyle.html" target="foo">show</a>)</h1></header>
    <pre contenteditable><em>&lt;div class="name-tag">&lt;/div></em>
&lt;script>
var Nametag = createNametag();
createComponent('name-tag', Nametag);

function createComponent(name, tmpl) {
  var unit = document.querySelector('.' + name);
  var clone = tmpl.cloneNode(true);
  unit.appendChild(clone);
}
function createNametag() {
  var tmpl = document.createDocumentFragment(),
      outer = document.createElement('div'),
      boilerplate = document.createElement('div'),
      name = document.createElement('div');
  // add classes
  outer.classList.add('outer');
  boilerplate.classList.add('boilerplate');
  name.classList.add('name');
  // add content
  boilerplate.textContent = 'Hi! My name is';
  name.textContent = 'Estelle';
  // put it all together
  outer.appendChild(boilerplate);
  outer.appendChild(name);
  tmpl.appendChild(outer);
  return tmpl;
}
&lt;/script></pre><a href="files/oldstyle.html" target="play">@</a>
</div>

<div class="slide">
  <header><h1>DOM Programming (<a href="files/oldstyle_multiple.html" target="foo">show</a>)</h1></header>
    <pre contenteditable><em>  &lt;div class="name-tag">Jean Phillippe&lt;/div>
  &lt;div class="name-tag">Estelle&lt;/div>
  &lt;div class="name-tag">Miriam&lt;/div>
</em>
&lt;script>
var Nametag = createNametag();
createComponent('name-tag', Nametag);

function createComponent(identifier, tmpl) {
  var units = document.querySelectorAll(
    '.' + identifier);
  [].forEach.call(
    units, function(unit) {
      var clone = tmpl.cloneNode(true);
      unit.appendChild(clone);
      if(unit.firstChild.data.length) {
        var content = unit.firstChild.data;
        unit.querySelector('.name').innerHTML = content;
        unit.firstChild.remove();
      }
    });
}

function createNametag() {
  var tmpl = document.createDocumentFragment(),
      outer       = document.createElement('div'),
      boilerplate = document.createElement('div'),
      name        = document.createElement('div');
  // add classes
  outer.classList.add('outer');
  boilerplate.classList.add('boilerplate');
  name.classList.add('name');
  // add content
  boilerplate.textContent = 'Hi! My name is';
  // put it all together
  outer.appendChild(boilerplate);
  outer.appendChild(name);
  tmpl.appendChild(outer);

  return tmpl;
}

&lt;/script></pre>
<a href="files/oldstyle_multiple.html" target="play">@</a>
</div>


<div class="slide">
  <header><h1>Front End Frameworks</h1></header>
    <section class="content">
<pre contenteditable>
<strong>&lt;script id=&quot;myNametag&quot; type=&quot;text/x-handlebars-template&quot;&gt;</strong>
  &lt;div class=&quot;name-tag&quot;&gt;
    &lt;div class=&quot;outer&quot;&gt;
      &lt;div class=&quot;boilerplate&quot;&gt;
        Hi! My name is
      &lt;/div&gt;
      &lt;div class=&quot;name&quot;&gt;
        <strong>{{name.first}}</strong>
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
<strong>&lt;/script&gt;</strong></pre>
</section>
</div>

<div class="slide">
  <header><h1>Goal</h1></header>
    <section class="content">
      <pre contenteditable><strong>&lt;name-tag></strong>Jean Phillippe<strong>&lt;/name-tag></strong>
<strong>&lt;name-tag></strong>Estelle<strong>&lt;/name-tag></strong>
<strong>&lt;name-tag></strong>Miriam<strong>&lt;/name-tag></strong></pre>
    </section>
</div>

<!---
  #
  #
  #    Templates
  #
  #
-->

<div class="slide title">
<h1>Templates</h1>
</div>

<div class="slide">
  <header><h1>Definition</h1></header>
    <section class="content">
      <p><strong>template (n)</strong> - A document or file having a preset format, used as a starting point for a particular application so that the format does not have to be recreated each time it is used.</p>
    </section>
</div>

<div class="slide">
  <header><h1>&lt;template&gt; specification</h1></header>
    <section class="content">
      <p><strong>&lt;template&gt;</strong>: A standard DOM-based approach for client-side templating.</p>
      <p><strong>specification:</strong> method for declaring inert DOM subtrees in HTML and manipulating them to instantiate document fragments with identical content.</p>

    </section>
</div>

<div class="slide">
  <header><h1>&lt;template&gt; specification</h1></header>
    <section class="content">
<blockquote><p>The <strong>template</strong> element is used to declare fragments of HTML that can be cloned and inserted in the document by script.</p>
<p>In a rendering, the template element <strong>represents nothing</strong></p></blockquote>

<cite>-- <a href="https://html.spec.whatwg.org/multipage/scripting.html#the-template-element">WHATWG Specification</a></cite>
    </section>
</div>

<div class="slide">
  <header><h1>&lt;template&gt; content</h1></header>
    <section class="content">
      <ul>
          <li><strong title="non-rendered hidden DOM">Inert until activated:</strong>  content available only at runtime</li>
          <li><strong>No side effects:</strong> scripts don't run, images don't load, video doesn't play until template is used.</li>
          <li><strong>Outside of DOM:</strong> child nodes don't exist in DOM. Can't <code>querySelector()</code> content</li>
          <li><strong title="even where parser doesn't allow content">Placable anywhere:</strong> head, body, iframe.</li>
      </ul>

      <p>Designers can create rich web user interaction (UI) using CSS and HTML markup only. Developers can focus on integrating the design elements.
    </section>
</div>



<div class="slide">
  <header><h1>How do you do it?</h1></header>
    <section class="content">
      <ol>
        <li>Feature detect</li>
        <li>Declare template content</li>
        <li>Activate content</li>
      </ol>
    </section>
</div>


<div class="slide">
  <header><h1>Browser Support</h1></header>
    <figure><object data="http://caniuse.com/#search=template"></object></figure>
  <a href="http://caniuse.com/#search=template" target="play" title="open resource in new window">↪</a>
</div>



<div class="slide">
  <header><h1>Feature Detect</h1></header>
    <section class="content">
      <pre contenteditable>if(<strong>'content' in document.createElement('template')</strong>) {
  // put template code here
} else {
  //polyfill
}</pre>
    </section>
</div>


<div class="slide">
  <header><h1>Include &lt;template&gt;</h1></header>
    <section class="content">
      <p>Clonable DOM that does nothing until activated</p>
      <ul>
        <li>&lt;template&gt;</li>
        <li>&lt;style&gt;</li>
        <li>content</li>
        <li>&lt;content&gt; <i>(in Shadow DOM spec)</i></li>
      </ul>
    </section>
</div>

<div class="slide">
  <pre contenteditable><strong>&lt;template id=&quot;foo&quot;&gt;</strong>
   <em>&lt;style&gt;
      /* styles scoped to template only
   &lt;/style&gt;</em>
  &lt;div class=&quot;someclass&quot;&gt;
     template text here
    &lt;div class=&quot;someotherclass&quot;&gt;
    <strong>&lt;content&gt;&lt;/content&gt;</strong>
    &lt;/div&gt;
  &lt;/div&gt;
<strong>&lt;/template&gt;</strong></pre>
</div>

<div class="slide">
  <pre contenteditable><strong>&lt;template id=&quot;nameTagTemplate&quot;&gt;</strong>
  <em>&lt;style&gt;
  .outer {
    border-radius: 1em; background: red; text-align: center; margin-bottom: 1em; }
  .boilerplate {
    color: white; padding: 0.5em; }
  .name {
    font-family: &quot;Marker Felt&quot;, cursive; }
  &lt;/style&gt;</em>
  &lt;div class=&quot;outer&quot;&gt;
    &lt;div class=&quot;boilerplate&quot;&gt;
     Hi! My name is
    &lt;/div&gt;
    &lt;div class=&quot;name&quot;&gt;
      <strong>&lt;content&gt;&lt;/content&gt;</strong>
    &lt;/div&gt;
  &lt;/div&gt;
<strong>&lt;/template&gt;</strong></pre>
</div>


<div class="slide">
  <p style="margin: 0;">HTML</p>
  <pre contenteditable>&lt;div class="name-tag">Jean Phillippe&lt;/div>
&lt;div class="name-tag">Estelle&lt;/div>
&lt;div class="name-tag">Miriam&lt;/div></pre>
<p style="margin: 0;">JavaScript</p>
  <pre contenteditable>var el = document.querySelectorAll('.name-tag');
var template = document.getElementById('nameTagTemplate');
for(var i = 0; i < el.length; i++) {
  var shadow = el[i].createShadowRoot();
  var clone = document.importNode(template.content, true);
  shadow.appendChild(clone);
}</pre>
</div>

<div class="slide">
  <header><h1>In browser</h1></header>
    <figure><object data="files/shadow2.html"></object></figure>
  <a href="files/shadow2.html" target="play" title="open resource in new window">↪</a>
</div>

<div class="slide">
  <p style="margin: 0;">HTML</p>
  <pre contenteditable>&lt;div class="name-tag">Jean Phillippe&lt;/div>
&lt;div class="name-tag">Estelle&lt;/div>
&lt;div class="name-tag">Miriam&lt;/div></pre>
<p style="margin: 0;">JavaScript</p>
  <pre contenteditable>var el = document.querySelectorAll('.name-tag');
<em>var template = document.getElementById('nameTagTemplate');</em>
for(var i = 0; i < el.length; i++) {
  var shadow = el[i]<strong>.createShadowRoot()</strong>;
  var clone = document.importNode(template<strong>.content</strong>, true);
  shadow.appendChild(clone);
}</pre>
</div>

<div class="slide">
  <header><h1></h1></header>
    <section class="content"><img src="assets/images/tmp_shadowroot.gif">
    </section>
</div>


<div class="slide">
  <header><h1>&lt;content&gt; &amp; select attribute</h1></header>
    <section class="content">
      <p><strong>&lt;content&gt;</strong>: insertion point that projects the text from the shadow host to shadow root. </p>
      <p><strong>&lt;content select=".classInHost"&gt;</strong> looks inside the shadow host for any element with a matching class of <em>.classInHost</em>. If an element in the shadow host has the class of <em>classInHost</em>, its contents will be rendered in the shadow DOM.
    </section>
</div>




<div class="slide">
  <header><h1><strong>select</strong> attribute</h1></header>
  <pre contenteditable><strong>&lt;template id="nameTagTemplate"&gt;</strong>
    &lt;div class="outer"&gt;
  &lt;div class="boilerplate"&gt;
    Hi! My name is
  &lt;/div&gt;
  &lt;div class="name"&gt;
    &lt;content <strong>select=".firstName"</strong>&gt;&lt;/content&gt;
    &lt;content <strong>select=".lastName"</strong>&gt;&lt;/content&gt;
  &lt;/div&gt;
&lt;/div&gt;
<strong>&lt;/template&gt;</strong>

&lt;div class="name-tag"&gt;
  &lt;span <strong>class="lastName"</strong>&gt;Weyl&lt;/span&gt;
  &lt;span <strong>class="firstName"</strong>&gt;Estelle&lt;/span&gt;
&lt;/div&gt;

&lt;script&gt;
    var host = document.querySelector('.name-tag');
    var root = host.createShadowRoot();
    var template = document.querySelector('#nameTagTemplate');
    root.appendChild(<strong>template.content</strong>);
&lt;/script&gt;</pre>
<a href="http://codepen.io/estelle/pen/xbGBQw" target="play" title="open resource in new window">↪</a>
</div>



<div class="slide">
  <header>
    <h1><strong>select</strong> attribute</h1>
  </header>

  <pre contenteditable>&lt;template&gt;
&lt;div class="outer"&gt;
  &lt;div class="boilerplate"&gt;
    Hi! My name is
  &lt;/div&gt;
  &lt;div class="name"&gt;
    &lt;content <strong>select=".f"</strong>&gt;&lt;/content&gt; &lt;content <strong>select=".l"</strong>&gt;&lt;/content&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;div class="name-tag"&gt;&lt;i <strong>class="f"</strong>&gt;J.&lt;/i&gt; &lt;i <strong>class="l"</strong>&gt;Phillippe&lt;/i&gt;&lt;/div&gt;
&lt;div class="name-tag"&gt;&lt;i <strong>class="l"</strong>&gt;Weyl&lt;/i&gt;, &lt;i <strong>class="f"</strong>&gt;Estelle&lt;/i&gt;&lt;/div&gt;
&lt;div class="name-tag"&gt;&lt;i <strong>class="l"</strong>&gt;Smith&lt;/i&gt;, &lt;i <strong>class="f"</strong>&gt;M.&lt;/i&gt;&lt;/div&gt;

&lt;script&gt;
var el = document.querySelectorAll('.name-tag');
var template = document.getElementById('nameTagTemplate');
for(var i = 0; i &lt; el.length; i++) {
  var shadow = el[i].createShadowRoot();
  var clone = document.importNode(<strong>template.content</strong>, true);
  shadow.appendChild(clone);
}
&lt;/script&gt;</pre>

<a href="files/shadow2_select.html" target="play" title="open resource in new window">↪</a>
</div>





<div class="slide">
  <header><h1>All unclaimed content</h1></header>
    <section class="content">
      <pre contenteditable>&lt;content&gt;&lt;/content&gt;
&lt;content select=""&gt;&lt;/conent&gt;
&lt;content select="*"&gt;&lt;/content&gt;</pre>
    </section>
</div>

<div class="slide">
  <header><h1>Scoped CSS</h1></header>
    <figure><object data="http://jsbin.com/yaruja/1/edit?html,css,output"></object></figure>
    <a href="http://codepen.io/estelle/pen/WbvwjR" target="play" title="open resource in new window">↪</a>
    <a href="http://jsbin.com/yaruja/1/edit?html,css,output" target="play" title="open resource in new window">↪</a>
</div>

<div class="slide">
  <header><h1>In case "Scoped CSS" failed</h1></header>
    <figure><object data="files/scoped-style.html"></object></figure>
  <a href="files/scoped-style.html" target="play" title="open resource in new window">↪</a>
</div>

<div class="slide">
  <header><h1>Benefits</h1></header>
    <section class="content">
      <ul>
        <li>Nothing!
          <ul>
            <li>inert</li>
            <li>invisible</li>
            <li>inactive</li>
          </ul>
        </li>
        <li>Reuseable</li>
        <li>Scoped CSS</li>
        <li>Importable</li>
      </ul>
    </section>
</div>


<div class="slide title">
<h1>Shadow DOM</h1>
</div>

<div class="slide">
  <header><h1>By Example</h1></header>
    <section class="content">
      <input type="range">
      <br/>
      <img src="assets/images/sd_range.gif" alt="shadow DOM for input type range">
    </section>
</div>

<div class="slide">
  <header><h1>By Example</h1></header>
    <section class="content">
      <input type="datetime-local">
      <br/>
      <img src="assets/images/sd_datetimelocal.gif" alt="shadow DOM for input type datetime-local">
    </section>
</div>

<div class="slide white">
  <header><h1>By Example</h1></header>
    <section class="content">
      <video controls style="height: 1em; width: 400px;">
      </video>
      <br/>

      <img src="assets/images/sd_video.gif" alt="shadow DOM for video controls">
    </section>
</div>

<div class="slide">
  <header><h1>&lt;template&gt; &amp; Shadow DOM</h1></header>
    <section class="content">

      <img src="assets/images/sd_template.gif" alt="shadow DOM for our templated name tags" align="left">
      <figure style="width: 50%; float: left;"><object data="files/shadow2.html"  style="width: 100%;"></object></figure>
    </section>
</div>


<div class="slide">
  <header><h1>Notes:</h1></header>
    <section class="content">

<p>Creates a Shadow Tree</p>
      <p>The content inside of the shadow host (or parent of the shadow root) is not rendered. Rather, the content inside the shadow root itself is what gets rendered.
    </section>
</div>

<div class="slide">
  <header><h1>Encapsulated Markup</h1></header>
    <section class="content">
<ul>
<li>Not available to the rest of the page</lu>
<li>Page-wide CSS doesn't imact it</li>
<li>CSS selectors don't target it</li>
<li>JavaScript is not aware of it</li>
<li>Nodes are not part of the regular DOM</li>
<li>Attributes of parent node can configure it</li>
<li>Shadow CSS is scoped
<li>JavaScript can access via shadowRoot
</ul>
    </section>
</div>

<div class="slide">
  <p style="margin: 0;">HTML</p>
  <pre contenteditable>&lt;div class="name-tag">Jean Phillippe&lt;/div>
&lt;div class="name-tag">Estelle&lt;/div>
&lt;div class="name-tag">Miriam&lt;/div></pre>
<p style="margin: 0;">JavaScript</p>
  <pre contenteditable>var el = document.querySelectorAll('.name-tag');
var template = document.getElementById('nameTagTemplate');
for(var i = 0; i &lt; el.length; i++) {
  var shadow = el[i]<strong>.createShadowRoot()</strong>;
  var clone = document.importNode(template.content, true);
  shadow.appendChild(clone);
}</pre>
</div>


<div class="slide">
  <header><h1>Simple Example</h1></header>
    <section class="content">
      <pre contenteditable>&lt;div class="spirit">&lt;/div>
&lt;script>
  var host = document.querySelector('.spirit');
  var root = host<strong>.createShadowRoot()</strong>;
  root<strong>.textContent</strong> = "Just because you see me," +
       "does that mean I really exist?";
&lt;/script></pre><a href="files/philosophy.html" target="play">↪</a>
    </section>
</div>


<div class="slide">
  <header><h1>Shadow Root and Host:</h1></header>
    <section class="content">
  <pre contenteditable> var <strong>root</strong> = <strong>host</strong>.createShadowRoot();</pre>
<p><strong>shadow root</strong>: 1st node of your shadow tree. Ancestor to all other nodes in the tree.</p>
<p>Shadow <strong>host</strong> content is not rendered. Rather, shadow <strong>root</strong> content gets rendered.
    </section>
</div>

<div class="slide">
  <header><h1>Visible or not?</h1></header>
    <section class="content">
      <p>while the shadow root is not accessible via the DOM, it is manipulated exactly like the DOM:</p>
       <pre contenteditable>document.<strong>querySelectorAll(</strong>'.blockquote'<strong>)</strong>.length === 0</pre>
       <pre contenteditable>var header = <strong>document.createElement(</strong>'h1'<strong>)</strong>;
root<strong>.appendChild(</strong>header<strong>)</strong>;</pre>
    </section>
</div>


<div class="slide title">
<h1>HTML Imports</h1>
</div>


<div class="slide">
  <header><h1>&nbsp;</h1></header>
    <section class="content"><pre contenteditable>&lt;!--#exec cgi="/cgi-bin/template.pl" --&gt;</pre>
    </section>
</div>


<div class="slide">
  <header><h1>Feature Detect</h1></header>
    <section class="content">
      <pre contenteditable>if(<strong>'import' in document.createElement('link')</strong>) {
  // you're good
} else {
  // you need to polyfill
}</pre>
    </section>
</div>


<div class="slide">
  <header><h1>Browser Support</h1></header>
    <figure><object data="http://caniuse.com/#search=import"></object></figure>
  <a href="http://caniuse.com/#search=import" target="play" title="open resource in new window">↪</a>
</div>


<div class="slide">
  <header><h1><strong>&lt;link rel="import"...</strong></h1></header>
    <section class="content">
      <pre contenteditable><code>&lt;head&gt;

  ....

  &lt;link rel="import" href="/path/file.html"&gt;

  &lt;link rel="import" href="//mysite.com/file.html"&gt;

  &lt;link rel="import" href="https://CORSEnabled.com/file.html"&gt;

&lt;/head&gt;</code></pre>
    </section>
</div>


<div class="slide">
  <header><h1></h1></header>
    <section class="content"><pre contenteditable><code>&lt;head&gt;

  ....

  &lt;link rel="import" href="nameTagTemplate.html"&gt;

&lt;/head&gt;</code></pre>
    </section>
</div>


<div class="slide">
  <header><h1>HTML</h1></header>
    <section class="content"><pre contenteditable>&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"/&gt;
  &lt;title&gt;Import a template&lt;/title&gt;
  &lt;script src="import.js"&gt;&lt;/script&gt;
  <strong>&lt;link rel="import" href="nametagtemplate.html"
      onload="loadHandler(event)" onerror="errorHandler(event)"&gt;</strong>
&lt;/head&gt;
&lt;body&gt;
  &lt;div class="name-tag"&gt;Jean Phillippe&lt;/div&gt;
  &lt;div class="name-tag"&gt;Estelle&lt;/div&gt;
  &lt;div class="name-tag"&gt;Miriam&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
<a href="http://estelle.github.io/components/files/import.html" target="play" title="open resource in new window">↪</a>
    </section>
</div>


<div class="slide">
  <header><h1><strong>nametagtemplate.html</strong></h1></header>
    <section class="content"><pre contenteditable><code>&lt;template id="nameTagTemplate"&gt;
&lt;style&gt;
.outer {
  margin-bottom: 1em;
  border-radius: 1em;
  background: red;
  font-size: 20pt;
  width: 12em;
  height: 7em;
  text-align: center;
}
.boilerplate {
  color: white;
  font-family: sans-serif;
  padding: 0.5em;
}
.name {
  color: black;
  background: white;
  font-family: "Marker Felt", cursive;
  font-size: 45pt;
  padding-top: 0.2em;
}
&lt;/style&gt;
&lt;div class="outer"&gt;
  &lt;div class="boilerplate"&gt;
    Hi! My name is
  &lt;/div&gt;
  &lt;div class="name"&gt;
    &lt;content&gt;&lt;/content&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;/template&gt;</code></pre>
    </section>
</div>



<div class="slide">
  <header><h1>JavaScript</h1></header>
<section class="content"><pre contenteditable>function loadHandler(e) {
  var content = document.querySelector('link[rel="import"]')<strong>.import</strong>;
  var el = document.querySelectorAll('.name-tag');
  var template = <strong>content.</strong>getElementById('nameTagTemplate');
  for(var i = 0; i &lt; el.length; i++) {
    var shadow = el[i].createShadowRoot();
    var clone = document.importNode(template.content, true);
    shadow.appendChild(clone);
  }
}
function errorHandler(e) {
  console.log('Error loading import: ' + e.target.href);
}</pre>
<a href="http://estelle.github.io/components/files/import.html" target="play" title="open resource in new window">↪</a>
    </section>
</div>



<div class="slide">
  <header><h1></h1></header>
    <section class="content">
      <ul>
          <li>The import can access its own DOM and the DOM of the importing document
            <ul>
              <li><code><strong>window.document</strong></code> refers to main document</li>
              <li><code><strong>importLinkFile.import</strong></code> refers to the imported document where <code>importedLinkFile</code> is <code>link[rel=import]</code></li>
            </ul>
          </li>
          <li><code><strong>&lt;link&gt;</strong></code> must have <code><strong>rel="import"</strong></code></li>

      </ul>
    </section>
</div>


<div class="slide">
  <header><h1>HTML imports</h1></header>
    <section class="content">
      <p>Inactive until activated:</p>
      <ul>
        <li><a href="http://estelle.github.io/components/files/import_show.html" target="foo">http://bit.ly/121oPBf</a> - inactive</li>
        <li><a href="http://estelle.github.io/components/files/import_show02.html" target="foo">http://bit.ly/1uPMpXI</a> - activated</li>
      </ul>
      <p>imported &lt;template></p>
      <pre contenteditable><code>&lt;template&gt;
  &lt;h1&gt;This is some text&lt;/h1&gt;
  &lt;img src="../assets/icons/icon-templates.png" alt="this is some media"&gt;
  &lt;script&gt;alert("This is some javascript");&lt;/script&gt;
&lt;/template&gt;</code></pre>
    </section>
</div>


<div class="slide">
  <header><h1>Activation</h1></header>
    <section class="content">
<pre contenteditable><code>&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"/&gt;
  &lt;title&gt;What happens to imported content&lt;/title&gt;
  &lt;script src="import.js"&gt;&lt;/script&gt;
  <strong>&lt;link rel="import" href="template_textmediajs.html" id="foo"&gt;</strong>
&lt;/head&gt;
&lt;body&gt;&lt;p&gt;A template has been imported that has an H1, image and an alert, and we added some javascript!&lt;/p&gt;

  &lt;script&gt;
    var myLink = document.getElementById('foo');
    var myTemplate = myLink<strong>.import</strong>.querySelector('template');
    var clonedTemplate = document<strong>.importNode(myTemplate.content, true)</strong>;
    <strong>document</strong>.querySelector('body').<strong>appendChild(clonedTemplate)</strong>;
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
    </section>
</div>

<div class="slide title">
<h1>Custom Elements</h1>
</div>


<div class="slide">
  <header><h1>Auto Registration</h1></header>
    <section class="content">
      <p>Imports can execute script, so we can use imports to auto register our elements: to define and register our custom elements.
      <p>Implement a custom element that creates Shadow DOM from a &lt;template> then registers itself.
    </section>
</div>

<div class="slide">
  <header><h1></h1></header>
    <section class="content">
    </section>
</div>


<div class="slide">
  <header><h1>Custom Elements</h1></header>
    <section class="content">
      <ol>
        <li>Register the Element</li>
      </ol>
    </section>
</div>


<div class="slide">
  <header><h1>Register Element</h1></header>
    <section class="content">
      <pre contenteditable>var FooBar = document.<strong>registerElement(</strong>'foo-bar'<strong>)</strong>;
document.body.appendChild(new FooBar());</pre>
<pre contenteditable>registerElement(tag-name, prototype)</pre>
<pre contenteditable>var MyButton = document.registerElement('my-button', HTMLButtonElement);</pre>
<pre contenteditable>var MyButton = document.registerElement('my-button', {
  prototype: Object.create(HTMLButtonElement.prototype),
  extends: 'button'
});<pre></section>
</div>



<div class="slide">
  <header><h1></h1></header>
    <section class="content">
    </section>
</div>


<!-- END SLIDES -->
   </div>
</div>
<script src="assets/slides.js"></script>
  </body>
</html>

